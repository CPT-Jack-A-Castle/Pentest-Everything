# Shell Upgrades

### Most reliable

```
/usr/bin/script -qc /bin/bash /dev/null
```

### Python

```
python -c 'import pty; pty.spawn("/bin/bash")'
/usr/bin/python -c 'import pty; pty.spawn("/bin/bash")'
python3 -c 'import pty; pty.spawn("/bin/bash")'
/usr/bin/python3 -c 'import pty; pty.spawn("/bin/bash")'
```

### Spawn TTY Shell

Spawn bash with python

`python -c 'import pty; pty.spawn("/bin/bash")'`&#x20;

Background the current session

`Ctrl + Z`&#x20;

Get current Rows and Columns `stty -a | head -n1 | cut -d ';' -f 2-3 | cut -b2- | sed 's/; /\n/' `

Connect to remote shell

`stty raw -echo; fg`&#x20;

Setting correct size for the _remote_ shell (where `ROWS` and `COLS` are the values from the 3rd command)

`stty rows ROWS cols COLS`&#x20;

Add some colours

`export TERM=xterm-256color`&#x20;

Reload bash to apply the TERM variable

`exec /bin/bash`&#x20;
